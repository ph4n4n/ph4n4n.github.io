<!DOCTYPE html>
<html lang=vi>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="Zero to Hero: Redis - In-Memory Data Structure StoreRedis là in-memory data structure store, được sử dụng như database, cache, message broker. Nó hỗ trợ nhiều data structures và cung cấp persistence o">
<meta property="og:type" content="article">
<meta property="og:title" content="Zero to Hero: Redis - In-Memory Data Structure Store">
<meta property="og:url" content="https://ph4n4n.github.io/Zero-to-hero-Redis/index.html">
<meta property="og:site_name" content="ph4n4n&#39;s code notes &amp; tips">
<meta property="og:description" content="Zero to Hero: Redis - In-Memory Data Structure StoreRedis là in-memory data structure store, được sử dụng như database, cache, message broker. Nó hỗ trợ nhiều data structures và cung cấp persistence o">
<meta property="og:locale" content="vi_VN">
<meta property="article:published_time" content="2025-01-27T03:00:00.000Z">
<meta property="article:modified_time" content="2025-06-27T06:59:13.321Z">
<meta property="article:author" content="ph4n4n">
<meta property="article:tag" content="Database">
<meta property="article:tag" content="NoSQL">
<meta property="article:tag" content="Redis">
<meta property="article:tag" content="Cache">
<meta property="article:tag" content="In-Memory">
<meta property="article:tag" content="Key-Value">
<meta property="article:tag" content="Pub&#x2F;Sub">
<meta property="article:tag" content="Session Store">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Zero to Hero: Redis - In-Memory Data Structure Store</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- Monaco font override -->
    
<link rel="stylesheet" href="/css/monaco-override.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
      <link rel="alternate" href="/atom.xml" title="ph4n4n&#39;s code notes &amp; tips" type="application/atom+xml" />
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<meta name="generator" content="Hexo 7.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/archives/">Trang chủ</a></li><!--
     --><!--
       --><li><a href="/2025/01/27/Zero-to-hero-Series-Overview/">Zero to Hero</a></li><!--
     --><!--
       --><li><a href="/archives/">Bài viết</a></li><!--
     --><!--
       --><li><a href="/about/">Giới thiệu</a></li><!--
     --><!--
       --><li><a href="https://github.com/ph4n4n">Dự án</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Bài trước" href="/Zero-to-hero-Python/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Bài tiếp theo" href="/2025/01/27/Zero-to-hero-Series-Overview/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Về đầu trang" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Chia sẻ bài viết" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Bài trước</span>
      <span id="i-next" class="info" style="display:none;">Bài tiếp theo</span>
      <span id="i-top" class="info" style="display:none;">Về đầu trang</span>
      <span id="i-share" class="info" style="display:none;">Chia sẻ bài viết</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://ph4n4n.github.io/Zero-to-hero-Redis/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://ph4n4n.github.io/Zero-to-hero-Redis/&text=Zero to Hero: Redis - In-Memory Data Structure Store"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://ph4n4n.github.io/Zero-to-hero-Redis/&title=Zero to Hero: Redis - In-Memory Data Structure Store"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://ph4n4n.github.io/Zero-to-hero-Redis/&is_video=false&description=Zero to Hero: Redis - In-Memory Data Structure Store"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Zero to Hero: Redis - In-Memory Data Structure Store&body=Check out this article: https://ph4n4n.github.io/Zero-to-hero-Redis/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://ph4n4n.github.io/Zero-to-hero-Redis/&title=Zero to Hero: Redis - In-Memory Data Structure Store"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://ph4n4n.github.io/Zero-to-hero-Redis/&title=Zero to Hero: Redis - In-Memory Data Structure Store"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://ph4n4n.github.io/Zero-to-hero-Redis/&title=Zero to Hero: Redis - In-Memory Data Structure Store"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://ph4n4n.github.io/Zero-to-hero-Redis/&title=Zero to Hero: Redis - In-Memory Data Structure Store"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://ph4n4n.github.io/Zero-to-hero-Redis/&name=Zero to Hero: Redis - In-Memory Data Structure Store&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://ph4n4n.github.io/Zero-to-hero-Redis/&t=Zero to Hero: Redis - In-Memory Data Structure Store"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Zero-to-Hero-Redis-In-Memory-Data-Structure-Store"><span class="toc-number">1.</span> <span class="toc-text">Zero to Hero: Redis - In-Memory Data Structure Store</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Tai-sao-chon-Redis"><span class="toc-number">1.1.</span> <span class="toc-text">1. Tại sao chọn Redis?</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#So-sanh-voi-cac-cache-khac"><span class="toc-number">1.1.1.</span> <span class="toc-text">So sánh với các cache khác</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Loi-ich-cua-Redis"><span class="toc-number">1.1.2.</span> <span class="toc-text">Lợi ích của Redis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Use-Cases"><span class="toc-number">1.1.3.</span> <span class="toc-text">Use Cases</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Cai-dat-va-Setup"><span class="toc-number">1.2.</span> <span class="toc-text">2. Cài đặt và Setup</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Cai-dat-Redis"><span class="toc-number">1.2.1.</span> <span class="toc-text">Cài đặt Redis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Khoi-dong-Redis"><span class="toc-number">1.2.2.</span> <span class="toc-text">Khởi động Redis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Redis-Configuration"><span class="toc-number">1.2.3.</span> <span class="toc-text">Redis Configuration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Redis-Desktop-Manager"><span class="toc-number">1.2.4.</span> <span class="toc-text">Redis Desktop Manager</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Core-Data-Structures"><span class="toc-number">1.3.</span> <span class="toc-text">3. Core Data Structures</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Strings"><span class="toc-number">1.3.1.</span> <span class="toc-text">Strings</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hashes"><span class="toc-number">1.3.2.</span> <span class="toc-text">Hashes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lists"><span class="toc-number">1.3.3.</span> <span class="toc-text">Lists</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sets"><span class="toc-number">1.3.4.</span> <span class="toc-text">Sets</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sorted-Sets"><span class="toc-number">1.3.5.</span> <span class="toc-text">Sorted Sets</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Advanced-Features"><span class="toc-number">1.4.</span> <span class="toc-text">4. Advanced Features</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Pub-Sub-Messaging"><span class="toc-number">1.4.1.</span> <span class="toc-text">Pub&#x2F;Sub Messaging</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Transactions"><span class="toc-number">1.4.2.</span> <span class="toc-text">Transactions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lua-Scripting"><span class="toc-number">1.4.3.</span> <span class="toc-text">Lua Scripting</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pipeline"><span class="toc-number">1.4.4.</span> <span class="toc-text">Pipeline</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Persistence-va-Backup"><span class="toc-number">1.5.</span> <span class="toc-text">5. Persistence và Backup</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#RDB-Redis-Database"><span class="toc-number">1.5.1.</span> <span class="toc-text">RDB (Redis Database)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AOF-Append-Only-File"><span class="toc-number">1.5.2.</span> <span class="toc-text">AOF (Append Only File)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Backup-Strategies"><span class="toc-number">1.5.3.</span> <span class="toc-text">Backup Strategies</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Performance-Optimization"><span class="toc-number">1.6.</span> <span class="toc-text">6. Performance Optimization</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Memory-Optimization"><span class="toc-number">1.6.1.</span> <span class="toc-text">Memory Optimization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Connection-Pooling"><span class="toc-number">1.6.2.</span> <span class="toc-text">Connection Pooling</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Caching-Strategies"><span class="toc-number">1.6.3.</span> <span class="toc-text">Caching Strategies</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-Clustering-va-Replication"><span class="toc-number">1.7.</span> <span class="toc-text">7. Clustering và Replication</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Master-Slave-Replication"><span class="toc-number">1.7.1.</span> <span class="toc-text">Master-Slave Replication</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Redis-Cluster"><span class="toc-number">1.7.2.</span> <span class="toc-text">Redis Cluster</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sentinel-High-Availability"><span class="toc-number">1.7.3.</span> <span class="toc-text">Sentinel (High Availability)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-Security-va-Monitoring"><span class="toc-number">1.8.</span> <span class="toc-text">8. Security và Monitoring</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Security-Configuration"><span class="toc-number">1.8.1.</span> <span class="toc-text">Security Configuration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Monitoring"><span class="toc-number">1.8.2.</span> <span class="toc-text">Monitoring</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Health-Checks"><span class="toc-number">1.8.3.</span> <span class="toc-text">Health Checks</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vi-du-thuc-te-E-commerce-Cache-System"><span class="toc-number">1.9.</span> <span class="toc-text">Ví dụ thực tế: E-commerce Cache System</span></a></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        Zero to Hero: Redis - In-Memory Data Structure Store
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">ph4n4n</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2025-01-27T03:00:00.000Z" class="dt-published" itemprop="datePublished">2025-01-27</time>
        
        (Updated: <time datetime="2025-06-27T06:59:13.321Z" class="dt-updated" itemprop="dateModified">2025-06-27</time>)
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/Database/">Database</a> › <a class="category-link" href="/categories/Database/Redis/">Redis</a> › <a class="category-link" href="/categories/Database/Redis/Cache/">Cache</a>
    </div>


      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/Cache/" rel="tag">Cache</a>, <a class="p-category" href="/tags/Database/" rel="tag">Database</a>, <a class="p-category" href="/tags/In-Memory/" rel="tag">In-Memory</a>, <a class="p-category" href="/tags/Key-Value/" rel="tag">Key-Value</a>, <a class="p-category" href="/tags/NoSQL/" rel="tag">NoSQL</a>, <a class="p-category" href="/tags/Pub-Sub/" rel="tag">Pub/Sub</a>, <a class="p-category" href="/tags/Redis/" rel="tag">Redis</a>, <a class="p-category" href="/tags/Session-Store/" rel="tag">Session Store</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h1 id="Zero-to-Hero-Redis-In-Memory-Data-Structure-Store"><a href="#Zero-to-Hero-Redis-In-Memory-Data-Structure-Store" class="headerlink" title="Zero to Hero: Redis - In-Memory Data Structure Store"></a>Zero to Hero: Redis - In-Memory Data Structure Store</h1><p>Redis là in-memory data structure store, được sử dụng như database, cache, message broker. Nó hỗ trợ nhiều data structures và cung cấp persistence options.</p>
<h2 id="1-Tai-sao-chon-Redis"><a href="#1-Tai-sao-chon-Redis" class="headerlink" title="1. Tại sao chọn Redis?"></a>1. Tại sao chọn Redis?</h2><h3 id="So-sanh-voi-cac-cache-khac"><a href="#So-sanh-voi-cac-cache-khac" class="headerlink" title="So sánh với các cache khác"></a>So sánh với các cache khác</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Memcached - Simple key-value</span></span><br><span class="line">memcached.<span class="title function_">set</span>(<span class="string">&#x27;user:123&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(userData));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Redis - Rich data structures</span></span><br><span class="line">redis.<span class="title function_">hset</span>(<span class="string">&#x27;user:123&#x27;</span>, userData);</span><br><span class="line">redis.<span class="title function_">sadd</span>(<span class="string">&#x27;online_users&#x27;</span>, <span class="string">&#x27;user:123&#x27;</span>);</span><br><span class="line">redis.<span class="title function_">zadd</span>(<span class="string">&#x27;leaderboard&#x27;</span>, score, <span class="string">&#x27;user:123&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Loi-ich-cua-Redis"><a href="#Loi-ich-cua-Redis" class="headerlink" title="Lợi ích của Redis"></a>Lợi ích của Redis</h3><ul>
<li><strong>In-Memory Performance</strong>: Tốc độ cực nhanh</li>
<li><strong>Rich Data Structures</strong>: String, Hash, List, Set, Sorted Set</li>
<li><strong>Persistence</strong>: RDB và AOF</li>
<li><strong>Pub&#x2F;Sub</strong>: Real-time messaging</li>
<li><strong>Atomic Operations</strong>: Thread-safe</li>
<li><strong>Lua Scripting</strong>: Custom logic</li>
<li><strong>Clustering</strong>: Horizontal scaling</li>
<li><strong>Replication</strong>: High availability</li>
</ul>
<h3 id="Use-Cases"><a href="#Use-Cases" class="headerlink" title="Use Cases"></a>Use Cases</h3><ul>
<li><strong>Caching</strong>: Session, page cache</li>
<li><strong>Session Store</strong>: User sessions</li>
<li><strong>Real-time Analytics</strong>: Counters, leaderboards</li>
<li><strong>Message Queue</strong>: Job queues, pub&#x2F;sub</li>
<li><strong>Rate Limiting</strong>: API throttling</li>
<li><strong>Geospatial</strong>: Location-based features</li>
</ul>
<h2 id="2-Cai-dat-va-Setup"><a href="#2-Cai-dat-va-Setup" class="headerlink" title="2. Cài đặt và Setup"></a>2. Cài đặt và Setup</h2><h3 id="Cai-dat-Redis"><a href="#Cai-dat-Redis" class="headerlink" title="Cài đặt Redis"></a>Cài đặt Redis</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Ubuntu/Debian</span></span><br><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="built_in">sudo</span> apt install redis-server</span><br><span class="line"></span><br><span class="line"><span class="comment"># macOS với Homebrew</span></span><br><span class="line">brew install redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># Docker</span></span><br><span class="line">docker run -d -p 6379:6379 --name redis redis:7-alpine</span><br><span class="line"></span><br><span class="line"><span class="comment"># Windows với WSL</span></span><br><span class="line">wsl --install Ubuntu</span><br><span class="line"><span class="comment"># Sau đó cài như Ubuntu</span></span><br></pre></td></tr></table></figure>

<h3 id="Khoi-dong-Redis"><a href="#Khoi-dong-Redis" class="headerlink" title="Khởi động Redis"></a>Khởi động Redis</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Start service</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl start redis-server</span><br><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> redis-server</span><br><span class="line"></span><br><span class="line"><span class="comment"># Check status</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl status redis-server</span><br><span class="line"></span><br><span class="line"><span class="comment"># Connect to Redis CLI</span></span><br><span class="line">redis-cli</span><br><span class="line"></span><br><span class="line"><span class="comment"># Test connection</span></span><br><span class="line">redis-cli ping</span><br><span class="line"><span class="comment"># PONG</span></span><br></pre></td></tr></table></figure>

<h3 id="Redis-Configuration"><a href="#Redis-Configuration" class="headerlink" title="Redis Configuration"></a>Redis Configuration</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /etc/redis/redis.conf</span></span><br><span class="line"><span class="comment"># Network</span></span><br><span class="line"><span class="built_in">bind</span> 127.0.0.1</span><br><span class="line">port 6379</span><br><span class="line"><span class="built_in">timeout</span> 300</span><br><span class="line"></span><br><span class="line"><span class="comment"># Memory</span></span><br><span class="line">maxmemory 256mb</span><br><span class="line">maxmemory-policy allkeys-lru</span><br><span class="line"></span><br><span class="line"><span class="comment"># Persistence</span></span><br><span class="line">save 900 1</span><br><span class="line">save 300 10</span><br><span class="line">save 60 10000</span><br><span class="line"></span><br><span class="line"><span class="comment"># Security</span></span><br><span class="line">requirepass your_password</span><br><span class="line"></span><br><span class="line"><span class="comment"># Logging</span></span><br><span class="line">loglevel notice</span><br><span class="line">logfile /var/log/redis/redis-server.log</span><br></pre></td></tr></table></figure>

<h3 id="Redis-Desktop-Manager"><a href="#Redis-Desktop-Manager" class="headerlink" title="Redis Desktop Manager"></a>Redis Desktop Manager</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># RedisInsight (Official)</span></span><br><span class="line"><span class="comment"># Download từ https://redis.com/redis-enterprise/redis-insight/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Redis Commander (Web-based)</span></span><br><span class="line">npm install -g redis-commander</span><br><span class="line">redis-commander --redis-host localhost --redis-port 6379</span><br></pre></td></tr></table></figure>

<h2 id="3-Core-Data-Structures"><a href="#3-Core-Data-Structures" class="headerlink" title="3. Core Data Structures"></a>3. Core Data Structures</h2><h3 id="Strings"><a href="#Strings" class="headerlink" title="Strings"></a>Strings</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Basic operations</span></span><br><span class="line"><span class="variable constant_">SET</span> <span class="attr">user</span>:<span class="number">1</span> <span class="string">&quot;John Doe&quot;</span></span><br><span class="line"><span class="variable constant_">GET</span> <span class="attr">user</span>:<span class="number">1</span></span><br><span class="line"><span class="variable constant_">DEL</span> <span class="attr">user</span>:<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Expiration</span></span><br><span class="line"><span class="variable constant_">SETEX</span> <span class="attr">session</span>:<span class="number">123</span> <span class="number">3600</span> <span class="string">&quot;user_data&quot;</span></span><br><span class="line"><span class="variable constant_">TTL</span> <span class="attr">session</span>:<span class="number">123</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Atomic operations</span></span><br><span class="line"><span class="variable constant_">INCR</span> counter</span><br><span class="line"><span class="variable constant_">INCRBY</span> counter <span class="number">5</span></span><br><span class="line"><span class="variable constant_">DECR</span> counter</span><br><span class="line"></span><br><span class="line"><span class="comment">// Multiple operations</span></span><br><span class="line"><span class="variable constant_">MSET</span> <span class="attr">user</span>:<span class="number">1</span> <span class="string">&quot;John&quot;</span> <span class="attr">user</span>:<span class="number">2</span> <span class="string">&quot;Jane&quot;</span></span><br><span class="line"><span class="variable constant_">MGET</span> <span class="attr">user</span>:<span class="number">1</span> <span class="attr">user</span>:<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Conditional operations</span></span><br><span class="line"><span class="variable constant_">SETNX</span> <span class="attr">lock</span>:resource <span class="string">&quot;locked&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Hashes"><a href="#Hashes" class="headerlink" title="Hashes"></a>Hashes</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// User profile</span></span><br><span class="line"><span class="variable constant_">HSET</span> <span class="attr">user</span>:<span class="number">123</span> name <span class="string">&quot;John Doe&quot;</span></span><br><span class="line"><span class="variable constant_">HSET</span> <span class="attr">user</span>:<span class="number">123</span> email <span class="string">&quot;john@example.com&quot;</span></span><br><span class="line"><span class="variable constant_">HSET</span> <span class="attr">user</span>:<span class="number">123</span> age <span class="number">30</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Get values</span></span><br><span class="line"><span class="variable constant_">HGET</span> <span class="attr">user</span>:<span class="number">123</span> name</span><br><span class="line"><span class="variable constant_">HGETALL</span> <span class="attr">user</span>:<span class="number">123</span></span><br><span class="line"><span class="variable constant_">HKEYS</span> <span class="attr">user</span>:<span class="number">123</span></span><br><span class="line"><span class="variable constant_">HVALS</span> <span class="attr">user</span>:<span class="number">123</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Check existence</span></span><br><span class="line"><span class="variable constant_">HEXISTS</span> <span class="attr">user</span>:<span class="number">123</span> email</span><br><span class="line"></span><br><span class="line"><span class="comment">// Increment numeric fields</span></span><br><span class="line"><span class="variable constant_">HINCRBY</span> <span class="attr">user</span>:<span class="number">123</span> visits <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Multiple operations</span></span><br><span class="line"><span class="variable constant_">HMSET</span> <span class="attr">user</span>:<span class="number">123</span> name <span class="string">&quot;John&quot;</span> email <span class="string">&quot;john@example.com&quot;</span> age <span class="number">30</span></span><br><span class="line"><span class="variable constant_">HMGET</span> <span class="attr">user</span>:<span class="number">123</span> name email age</span><br></pre></td></tr></table></figure>

<h3 id="Lists"><a href="#Lists" class="headerlink" title="Lists"></a>Lists</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Queue operations</span></span><br><span class="line"><span class="variable constant_">LPUSH</span> queue <span class="string">&quot;task1&quot;</span></span><br><span class="line"><span class="variable constant_">RPUSH</span> queue <span class="string">&quot;task2&quot;</span></span><br><span class="line"><span class="variable constant_">LPOP</span> queue</span><br><span class="line"><span class="variable constant_">RPOP</span> queue</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get elements</span></span><br><span class="line"><span class="variable constant_">LRANGE</span> queue <span class="number">0</span> -<span class="number">1</span></span><br><span class="line"><span class="variable constant_">LINDEX</span> queue <span class="number">0</span></span><br><span class="line"><span class="variable constant_">LLEN</span> queue</span><br><span class="line"></span><br><span class="line"><span class="comment">// Insert operations</span></span><br><span class="line"><span class="variable constant_">LINSERT</span> queue <span class="variable constant_">BEFORE</span> <span class="string">&quot;task2&quot;</span> <span class="string">&quot;task1.5&quot;</span></span><br><span class="line"><span class="variable constant_">LSET</span> queue <span class="number">1</span> <span class="string">&quot;new_task&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Remove elements</span></span><br><span class="line"><span class="variable constant_">LREM</span> queue <span class="number">1</span> <span class="string">&quot;task1&quot;</span></span><br><span class="line"><span class="variable constant_">LTRIM</span> queue <span class="number">0</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>

<h3 id="Sets"><a href="#Sets" class="headerlink" title="Sets"></a>Sets</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Add/Remove members</span></span><br><span class="line"><span class="variable constant_">SADD</span> tags <span class="string">&quot;javascript&quot;</span> <span class="string">&quot;nodejs&quot;</span> <span class="string">&quot;redis&quot;</span></span><br><span class="line"><span class="variable constant_">SREM</span> tags <span class="string">&quot;nodejs&quot;</span></span><br><span class="line"><span class="variable constant_">SMEMBERS</span> tags</span><br><span class="line"></span><br><span class="line"><span class="comment">// Set operations</span></span><br><span class="line"><span class="variable constant_">SADD</span> set1 <span class="string">&quot;a&quot;</span> <span class="string">&quot;b&quot;</span> <span class="string">&quot;c&quot;</span></span><br><span class="line"><span class="variable constant_">SADD</span> set2 <span class="string">&quot;b&quot;</span> <span class="string">&quot;c&quot;</span> <span class="string">&quot;d&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="variable constant_">SINTER</span> set1 set2      <span class="comment">// Intersection</span></span><br><span class="line"><span class="variable constant_">SUNION</span> set1 set2      <span class="comment">// Union</span></span><br><span class="line"><span class="variable constant_">SDIFF</span> set1 set2       <span class="comment">// Difference</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Check membership</span></span><br><span class="line"><span class="variable constant_">SISMEMBER</span> tags <span class="string">&quot;javascript&quot;</span></span><br><span class="line"><span class="variable constant_">SCARD</span> tags</span><br></pre></td></tr></table></figure>

<h3 id="Sorted-Sets"><a href="#Sorted-Sets" class="headerlink" title="Sorted Sets"></a>Sorted Sets</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Add with scores</span></span><br><span class="line"><span class="variable constant_">ZADD</span> leaderboard <span class="number">100</span> <span class="string">&quot;player1&quot;</span></span><br><span class="line"><span class="variable constant_">ZADD</span> leaderboard <span class="number">200</span> <span class="string">&quot;player2&quot;</span> <span class="number">150</span> <span class="string">&quot;player3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Get rankings</span></span><br><span class="line"><span class="variable constant_">ZRANGE</span> leaderboard <span class="number">0</span> -<span class="number">1</span> <span class="variable constant_">WITHSCORES</span></span><br><span class="line"><span class="variable constant_">ZREVRANGE</span> leaderboard <span class="number">0</span> -<span class="number">1</span> <span class="variable constant_">WITHSCORES</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Get by score range</span></span><br><span class="line"><span class="variable constant_">ZRANGEBYSCORE</span> leaderboard <span class="number">100</span> <span class="number">200</span></span><br><span class="line"><span class="variable constant_">ZCOUNT</span> leaderboard <span class="number">100</span> <span class="number">200</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Update scores</span></span><br><span class="line"><span class="variable constant_">ZINCRBY</span> leaderboard <span class="number">50</span> <span class="string">&quot;player1&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Remove members</span></span><br><span class="line"><span class="variable constant_">ZREM</span> leaderboard <span class="string">&quot;player1&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="4-Advanced-Features"><a href="#4-Advanced-Features" class="headerlink" title="4. Advanced Features"></a>4. Advanced Features</h2><h3 id="Pub-Sub-Messaging"><a href="#Pub-Sub-Messaging" class="headerlink" title="Pub&#x2F;Sub Messaging"></a>Pub&#x2F;Sub Messaging</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Publisher</span></span><br><span class="line"><span class="variable constant_">PUBLISH</span> news <span class="string">&quot;Breaking news!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Subscriber</span></span><br><span class="line"><span class="variable constant_">SUBSCRIBE</span> news</span><br><span class="line"># <span class="title class_">Listening</span> <span class="keyword">for</span> messages on <span class="string">&#x27;news&#x27;</span> channel</span><br><span class="line"></span><br><span class="line"><span class="comment">// Pattern subscription</span></span><br><span class="line"><span class="variable constant_">PSUBSCRIBE</span> news.*</span><br><span class="line"># <span class="title class_">Subscribe</span> to all channels starting <span class="keyword">with</span> <span class="string">&#x27;news&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Unsubscribe</span></span><br><span class="line"><span class="variable constant_">UNSUBSCRIBE</span> news</span><br><span class="line"><span class="variable constant_">PUNSUBSCRIBE</span> news.*</span><br></pre></td></tr></table></figure>

<h3 id="Transactions"><a href="#Transactions" class="headerlink" title="Transactions"></a>Transactions</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Start transaction</span></span><br><span class="line"><span class="variable constant_">MULTI</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Queue commands</span></span><br><span class="line"><span class="variable constant_">SET</span> <span class="attr">user</span>:<span class="number">1</span> <span class="string">&quot;John&quot;</span></span><br><span class="line"><span class="variable constant_">SET</span> <span class="attr">user</span>:<span class="number">2</span> <span class="string">&quot;Jane&quot;</span></span><br><span class="line"><span class="variable constant_">INCR</span> counter</span><br><span class="line"></span><br><span class="line"><span class="comment">// Execute transaction</span></span><br><span class="line"><span class="variable constant_">EXEC</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Discard transaction</span></span><br><span class="line"><span class="variable constant_">MULTI</span></span><br><span class="line"><span class="variable constant_">SET</span> <span class="attr">user</span>:<span class="number">1</span> <span class="string">&quot;John&quot;</span></span><br><span class="line"><span class="variable constant_">DISCARD</span></span><br></pre></td></tr></table></figure>

<h3 id="Lua-Scripting"><a href="#Lua-Scripting" class="headerlink" title="Lua Scripting"></a>Lua Scripting</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Simple script</span></span><br><span class="line"><span class="variable constant_">EVAL</span> <span class="string">&quot;return redis.call(&#x27;GET&#x27;, KEYS[1])&quot;</span> <span class="number">1</span> <span class="attr">user</span>:<span class="number">123</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Complex script</span></span><br><span class="line"><span class="variable constant_">EVAL</span> <span class="string">&quot;</span></span><br><span class="line"><span class="string">  local user = redis.call(&#x27;HGETALL&#x27;, KEYS[1])</span></span><br><span class="line"><span class="string">  local visits = redis.call(&#x27;HINCRBY&#x27;, KEYS[1], &#x27;visits&#x27;, 1)</span></span><br><span class="line"><span class="string">  return &#123;user, visits&#125;</span></span><br><span class="line"><span class="string">&quot;</span> <span class="number">1</span> <span class="attr">user</span>:<span class="number">123</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Load and execute script</span></span><br><span class="line"><span class="variable constant_">SCRIPT</span> <span class="variable constant_">LOAD</span> <span class="string">&quot;return redis.call(&#x27;GET&#x27;, KEYS[1])&quot;</span></span><br><span class="line"><span class="variable constant_">EVALSHA</span> sha1_hash <span class="number">1</span> <span class="attr">user</span>:<span class="number">123</span></span><br></pre></td></tr></table></figure>

<h3 id="Pipeline"><a href="#Pipeline" class="headerlink" title="Pipeline"></a>Pipeline</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Batch operations</span></span><br><span class="line"><span class="keyword">const</span> pipeline = redis.<span class="title function_">pipeline</span>();</span><br><span class="line"></span><br><span class="line">pipeline.<span class="title function_">set</span>(<span class="string">&#x27;user:1&#x27;</span>, <span class="string">&#x27;John&#x27;</span>);</span><br><span class="line">pipeline.<span class="title function_">set</span>(<span class="string">&#x27;user:2&#x27;</span>, <span class="string">&#x27;Jane&#x27;</span>);</span><br><span class="line">pipeline.<span class="title function_">incr</span>(<span class="string">&#x27;counter&#x27;</span>);</span><br><span class="line"></span><br><span class="line">pipeline.<span class="title function_">exec</span>(<span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(results);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="5-Persistence-va-Backup"><a href="#5-Persistence-va-Backup" class="headerlink" title="5. Persistence và Backup"></a>5. Persistence và Backup</h2><h3 id="RDB-Redis-Database"><a href="#RDB-Redis-Database" class="headerlink" title="RDB (Redis Database)"></a>RDB (Redis Database)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Configuration</span></span><br><span class="line">save 900 1      <span class="comment"># Save after 900s if 1+ keys changed</span></span><br><span class="line">save 300 10     <span class="comment"># Save after 300s if 10+ keys changed</span></span><br><span class="line">save 60 10000   <span class="comment"># Save after 60s if 10000+ keys changed</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Manual save</span></span><br><span class="line">SAVE            <span class="comment"># Blocking save</span></span><br><span class="line">BGSAVE          <span class="comment"># Background save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Disable RDB</span></span><br><span class="line">save <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="AOF-Append-Only-File"><a href="#AOF-Append-Only-File" class="headerlink" title="AOF (Append Only File)"></a>AOF (Append Only File)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Configuration</span></span><br><span class="line">appendonly <span class="built_in">yes</span></span><br><span class="line">appendfsync always    <span class="comment"># Every command</span></span><br><span class="line">appendfsync everysec  <span class="comment"># Every second</span></span><br><span class="line">appendfsync no        <span class="comment"># System decides</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Rewrite AOF</span></span><br><span class="line">BGREWRITEAOF</span><br></pre></td></tr></table></figure>

<h3 id="Backup-Strategies"><a href="#Backup-Strategies" class="headerlink" title="Backup Strategies"></a>Backup Strategies</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Create backup</span></span><br><span class="line">redis-cli BGSAVE</span><br><span class="line"></span><br><span class="line"><span class="comment"># Copy RDB file</span></span><br><span class="line"><span class="built_in">cp</span> /var/lib/redis/dump.rdb /backup/</span><br><span class="line"></span><br><span class="line"><span class="comment"># Restore from backup</span></span><br><span class="line">redis-cli FLUSHALL</span><br><span class="line"><span class="built_in">cp</span> /backup/dump.rdb /var/lib/redis/</span><br><span class="line"><span class="built_in">sudo</span> systemctl restart redis-server</span><br></pre></td></tr></table></figure>

<h2 id="6-Performance-Optimization"><a href="#6-Performance-Optimization" class="headerlink" title="6. Performance Optimization"></a>6. Performance Optimization</h2><h3 id="Memory-Optimization"><a href="#Memory-Optimization" class="headerlink" title="Memory Optimization"></a>Memory Optimization</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Use appropriate data structures</span></span><br><span class="line"><span class="comment">// Instead of storing JSON strings</span></span><br><span class="line"><span class="variable constant_">SET</span> <span class="attr">user</span>:<span class="number">123</span> <span class="string">&#x27;&#123;&quot;name&quot;:&quot;John&quot;,&quot;email&quot;:&quot;john@example.com&quot;&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Use hashes</span></span><br><span class="line"><span class="variable constant_">HSET</span> <span class="attr">user</span>:<span class="number">123</span> name <span class="string">&quot;John&quot;</span> email <span class="string">&quot;john@example.com&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Use integers for counters</span></span><br><span class="line"><span class="variable constant_">SET</span> counter <span class="number">0</span></span><br><span class="line"><span class="variable constant_">INCR</span> counter</span><br><span class="line"></span><br><span class="line"><span class="comment">// Use bitmaps for flags</span></span><br><span class="line"><span class="variable constant_">SETBIT</span> flags <span class="number">0</span> <span class="number">1</span></span><br><span class="line"><span class="variable constant_">GETBIT</span> flags <span class="number">0</span></span><br></pre></td></tr></table></figure>

<h3 id="Connection-Pooling"><a href="#Connection-Pooling" class="headerlink" title="Connection Pooling"></a>Connection Pooling</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Node.js with ioredis</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Redis</span> = <span class="built_in">require</span>(<span class="string">&#x27;ioredis&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> redis = <span class="keyword">new</span> <span class="title class_">Redis</span>(&#123;</span><br><span class="line">  <span class="attr">host</span>: <span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">  <span class="attr">port</span>: <span class="number">6379</span>,</span><br><span class="line">  <span class="attr">maxRetriesPerRequest</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="attr">retryDelayOnFailover</span>: <span class="number">100</span>,</span><br><span class="line">  <span class="attr">enableReadyCheck</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">maxLoadingTimeout</span>: <span class="number">2000</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Caching-Strategies"><a href="#Caching-Strategies" class="headerlink" title="Caching Strategies"></a>Caching Strategies</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Cache-Aside Pattern</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getUser</span>(<span class="params">id</span>) &#123;</span><br><span class="line">  <span class="comment">// Try cache first</span></span><br><span class="line">  <span class="keyword">const</span> cached = <span class="keyword">await</span> redis.<span class="title function_">get</span>(<span class="string">`user:<span class="subst">$&#123;id&#125;</span>`</span>);</span><br><span class="line">  <span class="keyword">if</span> (cached) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(cached);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Get from database</span></span><br><span class="line">  <span class="keyword">const</span> user = <span class="keyword">await</span> db.<span class="title function_">getUser</span>(id);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Store in cache</span></span><br><span class="line">  <span class="keyword">await</span> redis.<span class="title function_">setex</span>(<span class="string">`user:<span class="subst">$&#123;id&#125;</span>`</span>, <span class="number">3600</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(user));</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Write-Through Pattern</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">updateUser</span>(<span class="params">id, data</span>) &#123;</span><br><span class="line">  <span class="comment">// Update database</span></span><br><span class="line">  <span class="keyword">await</span> db.<span class="title function_">updateUser</span>(id, data);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Update cache</span></span><br><span class="line">  <span class="keyword">await</span> redis.<span class="title function_">setex</span>(<span class="string">`user:<span class="subst">$&#123;id&#125;</span>`</span>, <span class="number">3600</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Cache Invalidation</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">deleteUser</span>(<span class="params">id</span>) &#123;</span><br><span class="line">  <span class="keyword">await</span> db.<span class="title function_">deleteUser</span>(id);</span><br><span class="line">  <span class="keyword">await</span> redis.<span class="title function_">del</span>(<span class="string">`user:<span class="subst">$&#123;id&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-Clustering-va-Replication"><a href="#7-Clustering-va-Replication" class="headerlink" title="7. Clustering và Replication"></a>7. Clustering và Replication</h2><h3 id="Master-Slave-Replication"><a href="#Master-Slave-Replication" class="headerlink" title="Master-Slave Replication"></a>Master-Slave Replication</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Master configuration</span></span><br><span class="line"><span class="built_in">bind</span> 0.0.0.0</span><br><span class="line">port 6379</span><br><span class="line"></span><br><span class="line"><span class="comment"># Slave configuration</span></span><br><span class="line">slaveof 127.0.0.1 6379</span><br><span class="line">slave-read-only <span class="built_in">yes</span></span><br></pre></td></tr></table></figure>

<h3 id="Redis-Cluster"><a href="#Redis-Cluster" class="headerlink" title="Redis Cluster"></a>Redis Cluster</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Create cluster</span></span><br><span class="line">redis-cli --cluster create 127.0.0.1:7000 127.0.0.1:7001 \</span><br><span class="line">  127.0.0.1:7002 127.0.0.1:7003 127.0.0.1:7004 127.0.0.1:7005 \</span><br><span class="line">  --cluster-replicas 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># Check cluster status</span></span><br><span class="line">redis-cli --cluster info 127.0.0.1:7000</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add node to cluster</span></span><br><span class="line">redis-cli --cluster add-node 127.0.0.1:7006 127.0.0.1:7000</span><br></pre></td></tr></table></figure>

<h3 id="Sentinel-High-Availability"><a href="#Sentinel-High-Availability" class="headerlink" title="Sentinel (High Availability)"></a>Sentinel (High Availability)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Sentinel configuration</span></span><br><span class="line">port 26379</span><br><span class="line">sentinel monitor mymaster 127.0.0.1 6379 2</span><br><span class="line">sentinel down-after-milliseconds mymaster 5000</span><br><span class="line">sentinel failover-timeout mymaster 10000</span><br></pre></td></tr></table></figure>

<h2 id="8-Security-va-Monitoring"><a href="#8-Security-va-Monitoring" class="headerlink" title="8. Security và Monitoring"></a>8. Security và Monitoring</h2><h3 id="Security-Configuration"><a href="#Security-Configuration" class="headerlink" title="Security Configuration"></a>Security Configuration</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Authentication</span></span><br><span class="line">requirepass your_strong_password</span><br><span class="line"></span><br><span class="line"><span class="comment"># Network security</span></span><br><span class="line"><span class="built_in">bind</span> 127.0.0.1</span><br><span class="line">protected-mode <span class="built_in">yes</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Disable dangerous commands</span></span><br><span class="line">rename-command FLUSHDB <span class="string">&quot;&quot;</span></span><br><span class="line">rename-command FLUSHALL <span class="string">&quot;&quot;</span></span><br><span class="line">rename-command CONFIG <span class="string">&quot;CONFIG_9a7b8c2d&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># SSL/TLS</span></span><br><span class="line">tls-port 6380</span><br><span class="line">tls-cert-file /path/to/cert.pem</span><br><span class="line">tls-key-file /path/to/key.pem</span><br></pre></td></tr></table></figure>

<h3 id="Monitoring"><a href="#Monitoring" class="headerlink" title="Monitoring"></a>Monitoring</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Server info</span></span><br><span class="line"><span class="variable constant_">INFO</span> server</span><br><span class="line"><span class="variable constant_">INFO</span> memory</span><br><span class="line"><span class="variable constant_">INFO</span> stats</span><br><span class="line"></span><br><span class="line"><span class="comment">// Monitor commands</span></span><br><span class="line"><span class="variable constant_">MONITOR</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Slow log</span></span><br><span class="line"><span class="variable constant_">SLOWLOG</span> <span class="variable constant_">GET</span> <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Client list</span></span><br><span class="line"><span class="variable constant_">CLIENT</span> <span class="variable constant_">LIST</span></span><br><span class="line"><span class="variable constant_">CLIENT</span> <span class="variable constant_">KILL</span> <span class="attr">ip</span>:port</span><br></pre></td></tr></table></figure>

<h3 id="Health-Checks"><a href="#Health-Checks" class="headerlink" title="Health Checks"></a>Health Checks</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Basic health check</span></span><br><span class="line">redis-cli ping</span><br><span class="line"></span><br><span class="line"><span class="comment"># Check memory usage</span></span><br><span class="line">redis-cli info memory | grep used_memory_human</span><br><span class="line"></span><br><span class="line"><span class="comment"># Check connected clients</span></span><br><span class="line">redis-cli info clients | grep connected_clients</span><br><span class="line"></span><br><span class="line"><span class="comment"># Check replication status</span></span><br><span class="line">redis-cli info replication</span><br></pre></td></tr></table></figure>

<h2 id="Vi-du-thuc-te-E-commerce-Cache-System"><a href="#Vi-du-thuc-te-E-commerce-Cache-System" class="headerlink" title="Ví dụ thực tế: E-commerce Cache System"></a>Ví dụ thực tế: E-commerce Cache System</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Session Management</span></span><br><span class="line"><span class="keyword">const</span> sessionStore = &#123;</span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">createSession</span>(<span class="params">userId, data</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> sessionId = crypto.<span class="title function_">randomUUID</span>();</span><br><span class="line">    <span class="keyword">await</span> redis.<span class="title function_">setex</span>(<span class="string">`session:<span class="subst">$&#123;sessionId&#125;</span>`</span>, <span class="number">3600</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">      userId,</span><br><span class="line">      data,</span><br><span class="line">      <span class="attr">createdAt</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    &#125;));</span><br><span class="line">    <span class="keyword">return</span> sessionId;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">getSession</span>(<span class="params">sessionId</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> session = <span class="keyword">await</span> redis.<span class="title function_">get</span>(<span class="string">`session:<span class="subst">$&#123;sessionId&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">return</span> session ? <span class="title class_">JSON</span>.<span class="title function_">parse</span>(session) : <span class="literal">null</span>;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">updateSession</span>(<span class="params">sessionId, data</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> session = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">getSession</span>(sessionId);</span><br><span class="line">    <span class="keyword">if</span> (session) &#123;</span><br><span class="line">      session.<span class="property">data</span> = &#123; ...session.<span class="property">data</span>, ...data &#125;;</span><br><span class="line">      <span class="keyword">await</span> redis.<span class="title function_">setex</span>(<span class="string">`session:<span class="subst">$&#123;sessionId&#125;</span>`</span>, <span class="number">3600</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(session));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">deleteSession</span>(<span class="params">sessionId</span>) &#123;</span><br><span class="line">    <span class="keyword">await</span> redis.<span class="title function_">del</span>(<span class="string">`session:<span class="subst">$&#123;sessionId&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Product Cache</span></span><br><span class="line"><span class="keyword">const</span> productCache = &#123;</span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">getProduct</span>(<span class="params">id</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> cached = <span class="keyword">await</span> redis.<span class="title function_">get</span>(<span class="string">`product:<span class="subst">$&#123;id&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">if</span> (cached) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(cached);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> product = <span class="keyword">await</span> db.<span class="title function_">getProduct</span>(id);</span><br><span class="line">    <span class="keyword">if</span> (product) &#123;</span><br><span class="line">      <span class="keyword">await</span> redis.<span class="title function_">setex</span>(<span class="string">`product:<span class="subst">$&#123;id&#125;</span>`</span>, <span class="number">1800</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(product));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> product;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">invalidateProduct</span>(<span class="params">id</span>) &#123;</span><br><span class="line">    <span class="keyword">await</span> redis.<span class="title function_">del</span>(<span class="string">`product:<span class="subst">$&#123;id&#125;</span>`</span>);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">getPopularProducts</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> products = <span class="keyword">await</span> redis.<span class="title function_">zrevrange</span>(<span class="string">&#x27;popular_products&#x27;</span>, <span class="number">0</span>, <span class="number">9</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">all</span>(products.<span class="title function_">map</span>(<span class="function"><span class="params">id</span> =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">getProduct</span>(id)));</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">incrementProductViews</span>(<span class="params">id</span>) &#123;</span><br><span class="line">    <span class="keyword">await</span> redis.<span class="title function_">zincrby</span>(<span class="string">&#x27;popular_products&#x27;</span>, <span class="number">1</span>, id);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Rate Limiting</span></span><br><span class="line"><span class="keyword">const</span> rateLimiter = &#123;</span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">isAllowed</span>(<span class="params">userId, action, limit, <span class="variable language_">window</span></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> key = <span class="string">`rate_limit:<span class="subst">$&#123;userId&#125;</span>:<span class="subst">$&#123;action&#125;</span>`</span>;</span><br><span class="line">    <span class="keyword">const</span> current = <span class="keyword">await</span> redis.<span class="title function_">incr</span>(key);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (current === <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">await</span> redis.<span class="title function_">expire</span>(key, <span class="variable language_">window</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> current &lt;= limit;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">getRemaining</span>(<span class="params">userId, action</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> key = <span class="string">`rate_limit:<span class="subst">$&#123;userId&#125;</span>:<span class="subst">$&#123;action&#125;</span>`</span>;</span><br><span class="line">    <span class="keyword">const</span> current = <span class="keyword">await</span> redis.<span class="title function_">get</span>(key);</span><br><span class="line">    <span class="keyword">return</span> current ? <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">0</span>, <span class="number">10</span> - <span class="built_in">parseInt</span>(current)) : <span class="number">10</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Shopping Cart</span></span><br><span class="line"><span class="keyword">const</span> cartService = &#123;</span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">addToCart</span>(<span class="params">userId, productId, quantity</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> key = <span class="string">`cart:<span class="subst">$&#123;userId&#125;</span>`</span>;</span><br><span class="line">    <span class="keyword">await</span> redis.<span class="title function_">hincrby</span>(key, productId, quantity);</span><br><span class="line">    <span class="keyword">await</span> redis.<span class="title function_">expire</span>(key, <span class="number">86400</span>); <span class="comment">// 24 hours</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">getCart</span>(<span class="params">userId</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> key = <span class="string">`cart:<span class="subst">$&#123;userId&#125;</span>`</span>;</span><br><span class="line">    <span class="keyword">const</span> cart = <span class="keyword">await</span> redis.<span class="title function_">hgetall</span>(key);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> items = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> [productId, quantity] <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">entries</span>(cart)) &#123;</span><br><span class="line">      <span class="keyword">const</span> product = <span class="keyword">await</span> productCache.<span class="title function_">getProduct</span>(productId);</span><br><span class="line">      <span class="keyword">if</span> (product) &#123;</span><br><span class="line">        items.<span class="title function_">push</span>(&#123; product, <span class="attr">quantity</span>: <span class="built_in">parseInt</span>(quantity) &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> items;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">removeFromCart</span>(<span class="params">userId, productId</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> key = <span class="string">`cart:<span class="subst">$&#123;userId&#125;</span>`</span>;</span><br><span class="line">    <span class="keyword">await</span> redis.<span class="title function_">hdel</span>(key, productId);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">clearCart</span>(<span class="params">userId</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> key = <span class="string">`cart:<span class="subst">$&#123;userId&#125;</span>`</span>;</span><br><span class="line">    <span class="keyword">await</span> redis.<span class="title function_">del</span>(key);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Real-time Analytics</span></span><br><span class="line"><span class="keyword">const</span> analytics = &#123;</span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">trackPageView</span>(<span class="params">page</span>) &#123;</span><br><span class="line">    <span class="keyword">await</span> redis.<span class="title function_">incr</span>(<span class="string">`page_views:<span class="subst">$&#123;page&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">await</span> redis.<span class="title function_">incr</span>(<span class="string">&#x27;total_page_views&#x27;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">trackUserAction</span>(<span class="params">userId, action</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> key = <span class="string">`user_actions:<span class="subst">$&#123;userId&#125;</span>`</span>;</span><br><span class="line">    <span class="keyword">await</span> redis.<span class="title function_">lpush</span>(key, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">      action,</span><br><span class="line">      <span class="attr">timestamp</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    &#125;));</span><br><span class="line">    <span class="keyword">await</span> redis.<span class="title function_">ltrim</span>(key, <span class="number">0</span>, <span class="number">99</span>); <span class="comment">// Keep last 100 actions</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">getTopPages</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> keys = <span class="keyword">await</span> redis.<span class="title function_">keys</span>(<span class="string">&#x27;page_views:*&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> pages = [];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">of</span> keys) &#123;</span><br><span class="line">      <span class="keyword">const</span> page = key.<span class="title function_">replace</span>(<span class="string">&#x27;page_views:&#x27;</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">      <span class="keyword">const</span> views = <span class="keyword">await</span> redis.<span class="title function_">get</span>(key);</span><br><span class="line">      pages.<span class="title function_">push</span>(&#123; page, <span class="attr">views</span>: <span class="built_in">parseInt</span>(views) &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> pages.<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> b.<span class="property">views</span> - a.<span class="property">views</span>).<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">10</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>Redis cung cấp performance cao và tính linh hoạt cho các ứng dụng hiện đại. Với rich data structures và advanced features, nó là lựa chọn tuyệt vời cho caching, session management, và real-time applications.</p>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Vui lòng kích hoạt JavaScript để xem các bình luận.</noscript>
        </div>
    </div>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/archives/">Trang chủ</a></li>
        
          <li><a href="/2025/01/27/Zero-to-hero-Series-Overview/">Zero to Hero</a></li>
        
          <li><a href="/archives/">Bài viết</a></li>
        
          <li><a href="/about/">Giới thiệu</a></li>
        
          <li><a href="https://github.com/ph4n4n">Dự án</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Zero-to-Hero-Redis-In-Memory-Data-Structure-Store"><span class="toc-number">1.</span> <span class="toc-text">Zero to Hero: Redis - In-Memory Data Structure Store</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Tai-sao-chon-Redis"><span class="toc-number">1.1.</span> <span class="toc-text">1. Tại sao chọn Redis?</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#So-sanh-voi-cac-cache-khac"><span class="toc-number">1.1.1.</span> <span class="toc-text">So sánh với các cache khác</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Loi-ich-cua-Redis"><span class="toc-number">1.1.2.</span> <span class="toc-text">Lợi ích của Redis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Use-Cases"><span class="toc-number">1.1.3.</span> <span class="toc-text">Use Cases</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Cai-dat-va-Setup"><span class="toc-number">1.2.</span> <span class="toc-text">2. Cài đặt và Setup</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Cai-dat-Redis"><span class="toc-number">1.2.1.</span> <span class="toc-text">Cài đặt Redis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Khoi-dong-Redis"><span class="toc-number">1.2.2.</span> <span class="toc-text">Khởi động Redis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Redis-Configuration"><span class="toc-number">1.2.3.</span> <span class="toc-text">Redis Configuration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Redis-Desktop-Manager"><span class="toc-number">1.2.4.</span> <span class="toc-text">Redis Desktop Manager</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Core-Data-Structures"><span class="toc-number">1.3.</span> <span class="toc-text">3. Core Data Structures</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Strings"><span class="toc-number">1.3.1.</span> <span class="toc-text">Strings</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hashes"><span class="toc-number">1.3.2.</span> <span class="toc-text">Hashes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lists"><span class="toc-number">1.3.3.</span> <span class="toc-text">Lists</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sets"><span class="toc-number">1.3.4.</span> <span class="toc-text">Sets</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sorted-Sets"><span class="toc-number">1.3.5.</span> <span class="toc-text">Sorted Sets</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Advanced-Features"><span class="toc-number">1.4.</span> <span class="toc-text">4. Advanced Features</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Pub-Sub-Messaging"><span class="toc-number">1.4.1.</span> <span class="toc-text">Pub&#x2F;Sub Messaging</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Transactions"><span class="toc-number">1.4.2.</span> <span class="toc-text">Transactions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lua-Scripting"><span class="toc-number">1.4.3.</span> <span class="toc-text">Lua Scripting</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pipeline"><span class="toc-number">1.4.4.</span> <span class="toc-text">Pipeline</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Persistence-va-Backup"><span class="toc-number">1.5.</span> <span class="toc-text">5. Persistence và Backup</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#RDB-Redis-Database"><span class="toc-number">1.5.1.</span> <span class="toc-text">RDB (Redis Database)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AOF-Append-Only-File"><span class="toc-number">1.5.2.</span> <span class="toc-text">AOF (Append Only File)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Backup-Strategies"><span class="toc-number">1.5.3.</span> <span class="toc-text">Backup Strategies</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Performance-Optimization"><span class="toc-number">1.6.</span> <span class="toc-text">6. Performance Optimization</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Memory-Optimization"><span class="toc-number">1.6.1.</span> <span class="toc-text">Memory Optimization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Connection-Pooling"><span class="toc-number">1.6.2.</span> <span class="toc-text">Connection Pooling</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Caching-Strategies"><span class="toc-number">1.6.3.</span> <span class="toc-text">Caching Strategies</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-Clustering-va-Replication"><span class="toc-number">1.7.</span> <span class="toc-text">7. Clustering và Replication</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Master-Slave-Replication"><span class="toc-number">1.7.1.</span> <span class="toc-text">Master-Slave Replication</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Redis-Cluster"><span class="toc-number">1.7.2.</span> <span class="toc-text">Redis Cluster</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sentinel-High-Availability"><span class="toc-number">1.7.3.</span> <span class="toc-text">Sentinel (High Availability)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-Security-va-Monitoring"><span class="toc-number">1.8.</span> <span class="toc-text">8. Security và Monitoring</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Security-Configuration"><span class="toc-number">1.8.1.</span> <span class="toc-text">Security Configuration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Monitoring"><span class="toc-number">1.8.2.</span> <span class="toc-text">Monitoring</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Health-Checks"><span class="toc-number">1.8.3.</span> <span class="toc-text">Health Checks</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vi-du-thuc-te-E-commerce-Cache-System"><span class="toc-number">1.9.</span> <span class="toc-text">Ví dụ thực tế: E-commerce Cache System</span></a></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://ph4n4n.github.io/Zero-to-hero-Redis/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://ph4n4n.github.io/Zero-to-hero-Redis/&text=Zero to Hero: Redis - In-Memory Data Structure Store"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://ph4n4n.github.io/Zero-to-hero-Redis/&title=Zero to Hero: Redis - In-Memory Data Structure Store"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://ph4n4n.github.io/Zero-to-hero-Redis/&is_video=false&description=Zero to Hero: Redis - In-Memory Data Structure Store"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Zero to Hero: Redis - In-Memory Data Structure Store&body=Check out this article: https://ph4n4n.github.io/Zero-to-hero-Redis/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://ph4n4n.github.io/Zero-to-hero-Redis/&title=Zero to Hero: Redis - In-Memory Data Structure Store"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://ph4n4n.github.io/Zero-to-hero-Redis/&title=Zero to Hero: Redis - In-Memory Data Structure Store"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://ph4n4n.github.io/Zero-to-hero-Redis/&title=Zero to Hero: Redis - In-Memory Data Structure Store"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://ph4n4n.github.io/Zero-to-hero-Redis/&title=Zero to Hero: Redis - In-Memory Data Structure Store"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://ph4n4n.github.io/Zero-to-hero-Redis/&name=Zero to Hero: Redis - In-Memory Data Structure Store&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://ph4n4n.github.io/Zero-to-hero-Redis/&t=Zero to Hero: Redis - In-Memory Data Structure Store"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Chia sẻ</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Về đầu trang</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Bản quyền &copy;
    
    
    2018-2025
    ph4n4n
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/archives/">Trang chủ</a></li><!--
     --><!--
       --><li><a href="/2025/01/27/Zero-to-hero-Series-Overview/">Zero to Hero</a></li><!--
     --><!--
       --><li><a href="/archives/">Bài viết</a></li><!--
     --><!--
       --><li><a href="/about/">Giới thiệu</a></li><!--
     --><!--
       --><li><a href="https://github.com/ph4n4n">Dự án</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'https-ph4n4n-github-io';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>

<!-- utterances Comments -->


<script>
(function() {
  var fallbackQuotes = [
    {q: 'Stay hungry, stay foolish.', a: 'Steve Jobs'},
    {q: 'Không có thành công nào mà không phải trả giá.', a: 'Ẩn danh'},
    {q: 'Simplicity is the soul of efficiency.', a: 'Austin Freeman'},
    {q: 'Hãy kiên trì, mọi thứ rồi sẽ ổn.', a: 'Ẩn danh'},
    {q: 'Code is like humor. When you have to explain it, it\'s bad.', a: 'Cory House'},
    {q: 'Chỉ cần bạn không dừng lại thì việc bạn tiến chậm cũng không là vấn đề.', a: 'Khổng Tử'},
    {q: 'The best way to get started is to quit talking and begin doing.', a: 'Walt Disney'},
    {q: 'Muốn đi nhanh thì đi một mình, muốn đi xa thì đi cùng nhau.', a: 'Tục ngữ'},
    {q: 'First, solve the problem. Then, write the code.', a: 'John Johnson'},
    {q: 'Đừng sợ thất bại, hãy sợ không thử.', a: 'Ẩn danh'},
    {q: 'No code no bug, no bug no life.', a: 'ph4n4n'},
    {q: 'No code no bug, no code no food.', a: 'ph4n4n'},
    {q: 'The only way to do great work is to love what you do.', a: 'Steve Jobs'},
    {q: 'Je suis món ennemi.', a: 'ph4n4n'},
    {q: 'Chết không phải lúc trái tim ngừng đập, chết là khi ý chí ngừng tiến lên.', a: 'ChatGPT'},
  ];
  var el = document.getElementById('random-quote');
  function showQuote(q, a) {
    if (el) el.innerHTML = q + (a ? ' <span style="font-size:0.95em;color:#888;">– ' + a + '</span>' : '');
  }
  function showFallback() {
    var r = fallbackQuotes[Math.floor(Math.random() * fallbackQuotes.length)];
    showQuote(r.q, r.a);
  }
  fetch('https://zenquotes.io/api/random')
    .then(function(res) { return res.ok ? res.json() : Promise.reject(); })
    .then(function(data) {
      if (Array.isArray(data) && data[0] && data[0].q) {
        showQuote(data[0].q, data[0].a);
      } else {
        showFallback();
      }
    })
    .catch(showFallback);
})();
</script>
</body>
</html>
